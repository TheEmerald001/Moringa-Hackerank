{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { useGridLogger, useGridApiMethod, useGridApiEventHandler } from '../../utils';\nimport { gridColumnMenuSelector } from './columnMenuSelector';\nimport { gridClasses } from '../../../constants/gridClasses';\nexport const columnMenuStateInitializer = state => _extends({}, state, {\n  columnMenu: {\n    open: false\n  }\n});\n/**\n * @requires useGridColumnResize (event)\n * @requires useGridInfiniteLoader (event)\n */\n\nexport const useGridColumnMenu = apiRef => {\n  const logger = useGridLogger(apiRef, 'useGridColumnMenu');\n  /**\n   * API METHODS\n   */\n\n  const showColumnMenu = React.useCallback(field => {\n    const shouldUpdate = apiRef.current.setState(state => {\n      if (state.columnMenu.open && state.columnMenu.field === field) {\n        return state;\n      }\n\n      logger.debug('Opening Column Menu');\n      return _extends({}, state, {\n        columnMenu: {\n          open: true,\n          field\n        }\n      });\n    });\n\n    if (shouldUpdate) {\n      apiRef.current.hidePreferences();\n      apiRef.current.forceUpdate();\n    }\n  }, [apiRef, logger]);\n  const hideColumnMenu = React.useCallback(() => {\n    const shouldUpdate = apiRef.current.setState(state => {\n      if (!state.columnMenu.open && state.columnMenu.field === undefined) {\n        return state;\n      }\n\n      logger.debug('Hiding Column Menu');\n      return _extends({}, state, {\n        columnMenu: _extends({}, state.columnMenu, {\n          open: false,\n          field: undefined\n        })\n      });\n    });\n\n    if (shouldUpdate) {\n      apiRef.current.forceUpdate();\n    }\n  }, [apiRef, logger]);\n  const toggleColumnMenu = React.useCallback(field => {\n    logger.debug('Toggle Column Menu');\n    const columnMenu = gridColumnMenuSelector(apiRef.current.state);\n\n    if (!columnMenu.open || columnMenu.field !== field) {\n      showColumnMenu(field);\n    } else {\n      hideColumnMenu();\n    }\n  }, [apiRef, logger, showColumnMenu, hideColumnMenu]);\n  const columnMenuApi = {\n    showColumnMenu,\n    hideColumnMenu,\n    toggleColumnMenu\n  };\n  useGridApiMethod(apiRef, columnMenuApi, 'GridColumnMenuApi');\n  /**\n   * EVENTS\n   */\n\n  const handleColumnHeaderFocus = React.useCallback((params, event) => {\n    // Check if the column menu button received focus\n    if (!event.target.classList.contains(gridClasses.menuIconButton)) {\n      return;\n    } // Check if there's an element which lost focus\n\n\n    if (!event.relatedTarget) {\n      return;\n    } // `true` if the focus was on the column menu itself, not on any item\n\n\n    const columnMenuLostFocus = event.relatedTarget.classList.contains(gridClasses.menuList); // `true` if the focus was on an item from the column menu\n\n    const columnMenuItemLostFocus = event.relatedTarget.getAttribute('role') === 'menuitem';\n\n    if (columnMenuLostFocus || columnMenuItemLostFocus) {\n      apiRef.current.setColumnHeaderFocus(params.field);\n    }\n  }, [apiRef]);\n  useGridApiEventHandler(apiRef, 'columnResizeStart', hideColumnMenu);\n  useGridApiEventHandler(apiRef, 'columnHeaderFocus', handleColumnHeaderFocus);\n  useGridApiEventHandler(apiRef, 'virtualScrollerWheel', apiRef.current.hideColumnMenu);\n  useGridApiEventHandler(apiRef, 'virtualScrollerTouchMove', apiRef.current.hideColumnMenu);\n};","map":{"version":3,"sources":["/home/moryno/Development/Project/Final-Project/Moringa-Hackerank/client/node_modules/@mui/x-data-grid/hooks/features/columnMenu/useGridColumnMenu.js"],"names":["_extends","React","useGridLogger","useGridApiMethod","useGridApiEventHandler","gridColumnMenuSelector","gridClasses","columnMenuStateInitializer","state","columnMenu","open","useGridColumnMenu","apiRef","logger","showColumnMenu","useCallback","field","shouldUpdate","current","setState","debug","hidePreferences","forceUpdate","hideColumnMenu","undefined","toggleColumnMenu","columnMenuApi","handleColumnHeaderFocus","params","event","target","classList","contains","menuIconButton","relatedTarget","columnMenuLostFocus","menuList","columnMenuItemLostFocus","getAttribute","setColumnHeaderFocus"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { useGridLogger, useGridApiMethod, useGridApiEventHandler } from '../../utils';\nimport { gridColumnMenuSelector } from './columnMenuSelector';\nimport { gridClasses } from '../../../constants/gridClasses';\nexport const columnMenuStateInitializer = state => _extends({}, state, {\n  columnMenu: {\n    open: false\n  }\n});\n/**\n * @requires useGridColumnResize (event)\n * @requires useGridInfiniteLoader (event)\n */\n\nexport const useGridColumnMenu = apiRef => {\n  const logger = useGridLogger(apiRef, 'useGridColumnMenu');\n  /**\n   * API METHODS\n   */\n\n  const showColumnMenu = React.useCallback(field => {\n    const shouldUpdate = apiRef.current.setState(state => {\n      if (state.columnMenu.open && state.columnMenu.field === field) {\n        return state;\n      }\n\n      logger.debug('Opening Column Menu');\n      return _extends({}, state, {\n        columnMenu: {\n          open: true,\n          field\n        }\n      });\n    });\n\n    if (shouldUpdate) {\n      apiRef.current.hidePreferences();\n      apiRef.current.forceUpdate();\n    }\n  }, [apiRef, logger]);\n  const hideColumnMenu = React.useCallback(() => {\n    const shouldUpdate = apiRef.current.setState(state => {\n      if (!state.columnMenu.open && state.columnMenu.field === undefined) {\n        return state;\n      }\n\n      logger.debug('Hiding Column Menu');\n      return _extends({}, state, {\n        columnMenu: _extends({}, state.columnMenu, {\n          open: false,\n          field: undefined\n        })\n      });\n    });\n\n    if (shouldUpdate) {\n      apiRef.current.forceUpdate();\n    }\n  }, [apiRef, logger]);\n  const toggleColumnMenu = React.useCallback(field => {\n    logger.debug('Toggle Column Menu');\n    const columnMenu = gridColumnMenuSelector(apiRef.current.state);\n\n    if (!columnMenu.open || columnMenu.field !== field) {\n      showColumnMenu(field);\n    } else {\n      hideColumnMenu();\n    }\n  }, [apiRef, logger, showColumnMenu, hideColumnMenu]);\n  const columnMenuApi = {\n    showColumnMenu,\n    hideColumnMenu,\n    toggleColumnMenu\n  };\n  useGridApiMethod(apiRef, columnMenuApi, 'GridColumnMenuApi');\n  /**\n   * EVENTS\n   */\n\n  const handleColumnHeaderFocus = React.useCallback((params, event) => {\n    // Check if the column menu button received focus\n    if (!event.target.classList.contains(gridClasses.menuIconButton)) {\n      return;\n    } // Check if there's an element which lost focus\n\n\n    if (!event.relatedTarget) {\n      return;\n    } // `true` if the focus was on the column menu itself, not on any item\n\n\n    const columnMenuLostFocus = event.relatedTarget.classList.contains(gridClasses.menuList); // `true` if the focus was on an item from the column menu\n\n    const columnMenuItemLostFocus = event.relatedTarget.getAttribute('role') === 'menuitem';\n\n    if (columnMenuLostFocus || columnMenuItemLostFocus) {\n      apiRef.current.setColumnHeaderFocus(params.field);\n    }\n  }, [apiRef]);\n  useGridApiEventHandler(apiRef, 'columnResizeStart', hideColumnMenu);\n  useGridApiEventHandler(apiRef, 'columnHeaderFocus', handleColumnHeaderFocus);\n  useGridApiEventHandler(apiRef, 'virtualScrollerWheel', apiRef.current.hideColumnMenu);\n  useGridApiEventHandler(apiRef, 'virtualScrollerTouchMove', apiRef.current.hideColumnMenu);\n};"]},"metadata":{},"sourceType":"module"}