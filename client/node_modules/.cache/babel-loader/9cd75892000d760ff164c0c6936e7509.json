{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"linkOperators\", \"columnsSort\", \"filterFormProps\", \"children\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { GridLinkOperator } from '../../../models/gridFilterItem';\nimport { useGridApiContext } from '../../../hooks/utils/useGridApiContext';\nimport { GridAddIcon } from '../../icons';\nimport { GridPanelContent } from '../GridPanelContent';\nimport { GridPanelFooter } from '../GridPanelFooter';\nimport { GridPanelWrapper } from '../GridPanelWrapper';\nimport { GridFilterForm } from './GridFilterForm';\nimport { useGridRootProps } from '../../../hooks/utils/useGridRootProps';\nimport { useGridSelector } from '../../../hooks/utils/useGridSelector';\nimport { gridFilterModelSelector } from '../../../hooks/features/filter/gridFilterSelector';\nimport { gridFilterableColumnDefinitionsSelector } from '../../../hooks/features/columns/gridColumnsSelector';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst GridFilterPanel = /*#__PURE__*/React.forwardRef(function GridFilterPanel(props, ref) {\n  var _rootProps$components;\n\n  const apiRef = useGridApiContext();\n  const rootProps = useGridRootProps();\n  const filterModel = useGridSelector(apiRef, gridFilterModelSelector);\n  const filterableColumns = useGridSelector(apiRef, gridFilterableColumnDefinitionsSelector);\n  const lastFilterRef = React.useRef(null);\n\n  const {\n    linkOperators = [GridLinkOperator.And, GridLinkOperator.Or],\n    columnsSort,\n    filterFormProps\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const applyFilter = React.useCallback(item => {\n    apiRef.current.upsertFilterItem(item);\n  }, [apiRef]);\n  const applyFilterLinkOperator = React.useCallback(operator => {\n    apiRef.current.setFilterLinkOperator(operator);\n  }, [apiRef]);\n  const getDefaultItem = React.useCallback(() => {\n    const firstColumnWithOperator = filterableColumns.find(colDef => {\n      var _colDef$filterOperato;\n\n      return (_colDef$filterOperato = colDef.filterOperators) == null ? void 0 : _colDef$filterOperato.length;\n    });\n\n    if (!firstColumnWithOperator) {\n      return null;\n    }\n\n    return {\n      columnField: firstColumnWithOperator.field,\n      operatorValue: firstColumnWithOperator.filterOperators[0].value,\n      id: Math.round(Math.random() * 1e5)\n    };\n  }, [filterableColumns]);\n  const items = React.useMemo(() => {\n    if (filterModel.items.length) {\n      return filterModel.items;\n    }\n\n    const defaultItem = getDefaultItem();\n    return defaultItem ? [defaultItem] : [];\n  }, [filterModel.items, getDefaultItem]);\n  const hasMultipleFilters = items.length > 1;\n\n  const addNewFilter = () => {\n    const defaultItem = getDefaultItem();\n\n    if (!defaultItem) {\n      return;\n    }\n\n    apiRef.current.upsertFilterItems([...items, defaultItem]);\n  };\n\n  const deleteFilter = React.useCallback(item => {\n    const shouldCloseFilterPanel = items.length === 1;\n    apiRef.current.deleteFilterItem(item);\n\n    if (shouldCloseFilterPanel) {\n      apiRef.current.hideFilterPanel();\n    }\n  }, [apiRef, items.length]);\n  React.useEffect(() => {\n    if (linkOperators.length > 0 && filterModel.linkOperator && !linkOperators.includes(filterModel.linkOperator)) {\n      applyFilterLinkOperator(linkOperators[0]);\n    }\n  }, [linkOperators, applyFilterLinkOperator, filterModel.linkOperator]);\n  React.useEffect(() => {\n    if (items.length > 0) {\n      lastFilterRef.current.focus();\n    }\n  }, [items.length]);\n  return /*#__PURE__*/_jsxs(GridPanelWrapper, _extends({\n    ref: ref\n  }, other, {\n    children: [/*#__PURE__*/_jsx(GridPanelContent, {\n      children: items.map((item, index) => /*#__PURE__*/_jsx(GridFilterForm, _extends({\n        item: item,\n        applyFilterChanges: applyFilter,\n        deleteFilter: deleteFilter,\n        hasMultipleFilters: hasMultipleFilters,\n        showMultiFilterOperators: index > 0,\n        multiFilterOperator: filterModel.linkOperator,\n        disableMultiFilterOperator: index !== 1,\n        applyMultiFilterOperatorChanges: applyFilterLinkOperator,\n        focusElementRef: index === items.length - 1 ? lastFilterRef : null,\n        linkOperators: linkOperators,\n        columnsSort: columnsSort\n      }, filterFormProps), item.id == null ? index : item.id))\n    }), !rootProps.disableMultipleColumnsFiltering && /*#__PURE__*/_jsx(GridPanelFooter, {\n      children: /*#__PURE__*/_jsx(rootProps.components.BaseButton, _extends({\n        onClick: addNewFilter,\n        startIcon: /*#__PURE__*/_jsx(GridAddIcon, {})\n      }, (_rootProps$components = rootProps.componentsProps) == null ? void 0 : _rootProps$components.baseButton, {\n        children: apiRef.current.getLocaleText('filterPanelAddFilter')\n      }))\n    })]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? GridFilterPanel.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // | To update them edit the TypeScript types and run \"yarn proptypes\"  |\n  // ----------------------------------------------------------------------\n\n  /**\n   * @ignore - do not document.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Changes how the options in the columns selector should be ordered.\n   * If not specified, the order is derived from the `columns` prop.\n   */\n  columnsSort: PropTypes.oneOf(['asc', 'desc']),\n\n  /**\n   * Props passed to each filter form.\n   */\n  filterFormProps: PropTypes.shape({\n    columnInputProps: PropTypes.any,\n    columnsSort: PropTypes.oneOf(['asc', 'desc']),\n    deleteIconProps: PropTypes.any,\n    linkOperatorInputProps: PropTypes.any,\n    operatorInputProps: PropTypes.any,\n    valueInputProps: PropTypes.any\n  }),\n\n  /**\n   * Sets the available logic operators.\n   * @default [GridLinkOperator.And, GridLinkOperator.Or]\n   */\n  linkOperators: PropTypes.arrayOf(PropTypes.oneOf(['and', 'or']).isRequired),\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport { GridFilterPanel };","map":{"version":3,"sources":["/home/moryno/Development/Project/Final-Project/Moringa-Hackerank/client/node_modules/@mui/x-data-grid/components/panel/filterPanel/GridFilterPanel.js"],"names":["_extends","_objectWithoutPropertiesLoose","_excluded","React","PropTypes","GridLinkOperator","useGridApiContext","GridAddIcon","GridPanelContent","GridPanelFooter","GridPanelWrapper","GridFilterForm","useGridRootProps","useGridSelector","gridFilterModelSelector","gridFilterableColumnDefinitionsSelector","jsx","_jsx","jsxs","_jsxs","GridFilterPanel","forwardRef","props","ref","_rootProps$components","apiRef","rootProps","filterModel","filterableColumns","lastFilterRef","useRef","linkOperators","And","Or","columnsSort","filterFormProps","other","applyFilter","useCallback","item","current","upsertFilterItem","applyFilterLinkOperator","operator","setFilterLinkOperator","getDefaultItem","firstColumnWithOperator","find","colDef","_colDef$filterOperato","filterOperators","length","columnField","field","operatorValue","value","id","Math","round","random","items","useMemo","defaultItem","hasMultipleFilters","addNewFilter","upsertFilterItems","deleteFilter","shouldCloseFilterPanel","deleteFilterItem","hideFilterPanel","useEffect","linkOperator","includes","focus","children","map","index","applyFilterChanges","showMultiFilterOperators","multiFilterOperator","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","disableMultipleColumnsFiltering","components","BaseButton","onClick","startIcon","componentsProps","baseButton","getLocaleText","process","env","NODE_ENV","propTypes","node","oneOf","shape","columnInputProps","any","deleteIconProps","linkOperatorInputProps","operatorInputProps","valueInputProps","arrayOf","isRequired","sx","oneOfType","func","object","bool"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"linkOperators\", \"columnsSort\", \"filterFormProps\", \"children\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { GridLinkOperator } from '../../../models/gridFilterItem';\nimport { useGridApiContext } from '../../../hooks/utils/useGridApiContext';\nimport { GridAddIcon } from '../../icons';\nimport { GridPanelContent } from '../GridPanelContent';\nimport { GridPanelFooter } from '../GridPanelFooter';\nimport { GridPanelWrapper } from '../GridPanelWrapper';\nimport { GridFilterForm } from './GridFilterForm';\nimport { useGridRootProps } from '../../../hooks/utils/useGridRootProps';\nimport { useGridSelector } from '../../../hooks/utils/useGridSelector';\nimport { gridFilterModelSelector } from '../../../hooks/features/filter/gridFilterSelector';\nimport { gridFilterableColumnDefinitionsSelector } from '../../../hooks/features/columns/gridColumnsSelector';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst GridFilterPanel = /*#__PURE__*/React.forwardRef(function GridFilterPanel(props, ref) {\n  var _rootProps$components;\n\n  const apiRef = useGridApiContext();\n  const rootProps = useGridRootProps();\n  const filterModel = useGridSelector(apiRef, gridFilterModelSelector);\n  const filterableColumns = useGridSelector(apiRef, gridFilterableColumnDefinitionsSelector);\n  const lastFilterRef = React.useRef(null);\n\n  const {\n    linkOperators = [GridLinkOperator.And, GridLinkOperator.Or],\n    columnsSort,\n    filterFormProps\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const applyFilter = React.useCallback(item => {\n    apiRef.current.upsertFilterItem(item);\n  }, [apiRef]);\n  const applyFilterLinkOperator = React.useCallback(operator => {\n    apiRef.current.setFilterLinkOperator(operator);\n  }, [apiRef]);\n  const getDefaultItem = React.useCallback(() => {\n    const firstColumnWithOperator = filterableColumns.find(colDef => {\n      var _colDef$filterOperato;\n\n      return (_colDef$filterOperato = colDef.filterOperators) == null ? void 0 : _colDef$filterOperato.length;\n    });\n\n    if (!firstColumnWithOperator) {\n      return null;\n    }\n\n    return {\n      columnField: firstColumnWithOperator.field,\n      operatorValue: firstColumnWithOperator.filterOperators[0].value,\n      id: Math.round(Math.random() * 1e5)\n    };\n  }, [filterableColumns]);\n  const items = React.useMemo(() => {\n    if (filterModel.items.length) {\n      return filterModel.items;\n    }\n\n    const defaultItem = getDefaultItem();\n    return defaultItem ? [defaultItem] : [];\n  }, [filterModel.items, getDefaultItem]);\n  const hasMultipleFilters = items.length > 1;\n\n  const addNewFilter = () => {\n    const defaultItem = getDefaultItem();\n\n    if (!defaultItem) {\n      return;\n    }\n\n    apiRef.current.upsertFilterItems([...items, defaultItem]);\n  };\n\n  const deleteFilter = React.useCallback(item => {\n    const shouldCloseFilterPanel = items.length === 1;\n    apiRef.current.deleteFilterItem(item);\n\n    if (shouldCloseFilterPanel) {\n      apiRef.current.hideFilterPanel();\n    }\n  }, [apiRef, items.length]);\n  React.useEffect(() => {\n    if (linkOperators.length > 0 && filterModel.linkOperator && !linkOperators.includes(filterModel.linkOperator)) {\n      applyFilterLinkOperator(linkOperators[0]);\n    }\n  }, [linkOperators, applyFilterLinkOperator, filterModel.linkOperator]);\n  React.useEffect(() => {\n    if (items.length > 0) {\n      lastFilterRef.current.focus();\n    }\n  }, [items.length]);\n  return /*#__PURE__*/_jsxs(GridPanelWrapper, _extends({\n    ref: ref\n  }, other, {\n    children: [/*#__PURE__*/_jsx(GridPanelContent, {\n      children: items.map((item, index) => /*#__PURE__*/_jsx(GridFilterForm, _extends({\n        item: item,\n        applyFilterChanges: applyFilter,\n        deleteFilter: deleteFilter,\n        hasMultipleFilters: hasMultipleFilters,\n        showMultiFilterOperators: index > 0,\n        multiFilterOperator: filterModel.linkOperator,\n        disableMultiFilterOperator: index !== 1,\n        applyMultiFilterOperatorChanges: applyFilterLinkOperator,\n        focusElementRef: index === items.length - 1 ? lastFilterRef : null,\n        linkOperators: linkOperators,\n        columnsSort: columnsSort\n      }, filterFormProps), item.id == null ? index : item.id))\n    }), !rootProps.disableMultipleColumnsFiltering && /*#__PURE__*/_jsx(GridPanelFooter, {\n      children: /*#__PURE__*/_jsx(rootProps.components.BaseButton, _extends({\n        onClick: addNewFilter,\n        startIcon: /*#__PURE__*/_jsx(GridAddIcon, {})\n      }, (_rootProps$components = rootProps.componentsProps) == null ? void 0 : _rootProps$components.baseButton, {\n        children: apiRef.current.getLocaleText('filterPanelAddFilter')\n      }))\n    })]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? GridFilterPanel.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // | To update them edit the TypeScript types and run \"yarn proptypes\"  |\n  // ----------------------------------------------------------------------\n\n  /**\n   * @ignore - do not document.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Changes how the options in the columns selector should be ordered.\n   * If not specified, the order is derived from the `columns` prop.\n   */\n  columnsSort: PropTypes.oneOf(['asc', 'desc']),\n\n  /**\n   * Props passed to each filter form.\n   */\n  filterFormProps: PropTypes.shape({\n    columnInputProps: PropTypes.any,\n    columnsSort: PropTypes.oneOf(['asc', 'desc']),\n    deleteIconProps: PropTypes.any,\n    linkOperatorInputProps: PropTypes.any,\n    operatorInputProps: PropTypes.any,\n    valueInputProps: PropTypes.any\n  }),\n\n  /**\n   * Sets the available logic operators.\n   * @default [GridLinkOperator.And, GridLinkOperator.Or]\n   */\n  linkOperators: PropTypes.arrayOf(PropTypes.oneOf(['and', 'or']).isRequired),\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport { GridFilterPanel };"]},"metadata":{},"sourceType":"module"}